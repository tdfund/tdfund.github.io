(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[6],{925:function(e,t,a){"use strict";a.r(t),a.d(t,"DetailsComponent",(function(){return L})),a.d(t,"Details",(function(){return D})),a.d(t,"default",(function(){return D}));var n=a(218),r=(a(783),a(781)),c=(a(355),a(95)),i=(a(216),a(73)),o=(a(217),a(38)),l=(a(758),a(762)),s=a(71),m=a.n(s),u=a(2),b=a(67),d=a(100),p=a(4),f=(a(354),a(166)),g=(a(75),a(0)),x=a.n(g),h=a(94),j=a.n(h),O=(a(114),a(21)),y=a(222),v=a(353),E=a.n(v),S=a(40),N=a(167);function w(){var e=Object(n.a)(["\n  .p-24 {\n    padding: 24px;\n  }\n  .m-t-24 {\n    margin-top: 24px;\n  }\n  .m-b-24 {\n    margin-bottom: 24px;\n  }\n  .divider {\n    border-color: #000;\n    opacity: 0.8;\n    margin: 0;\n  }\n  .content {\n    padding-top: 40px;\n    max-width: 1120px;\n    margin: 0 auto !important;\n  }\n\n  .green {\n    color: #3f8600;\n  }\n  .red {\n    color: #cf1322;\n  }\n  .grey {\n    color: rgba(19, 24, 31, 0.6);\n  }\n"]);return w=function(){return e},e}var k=f.a.Content,L=function(e){var t=e.className,a=Object(g.useState)([]),n=Object(p.a)(a,2),s=n[0],h=n[1],y=Object(g.useState)([]),v=Object(p.a)(y,2),w=(v[0],v[1]),L=Object(g.useState)([]),D=Object(p.a)(L,2),A=D[0],V=D[1],Y=Object(g.useState)(!0),I=Object(p.a)(Y,2),z=I[0],U=I[1],C=Object(g.useState)([]),M=Object(p.a)(C,2),P=M[0],_=M[1],B=Object(g.useState)([]),G=Object(p.a)(B,2),J=G[0],T=G[1],q=Object(g.useState)("--"),W=Object(p.a)(q,2),F=W[0],H=W[1],K=Object(g.useState)([]),Q=Object(p.a)(K,2),R=Q[0],X=Q[1],Z=Object(O.h)().user;Object(g.useEffect)((function(){var e=function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n,r,c,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([j.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/accounts/".concat(Z,"/main.json")),j.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/accounts/".concat(Z,"/dw.json"))]);case 2:t=e.sent,a=Object(p.a)(t,2),n=a[0].data,r=a[1].data,h(n),V(Object(b.a)(r).reverse().map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{key:t})}))),c=n.map((function(e,t){return[1e3*n[t][0],Object(S.e)(n[t][4],1)]})),i=n.map((function(e,t){return[1e3*n[t][0],Object(S.e)(n[t][10],1)]})),o=n.map((function(e,t){return[1e3*n[t][0],Object(S.e)(n[t][6],1)]})),_(c),T(i),U(!1),w(o);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"t1"===Z&&function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n,r,c,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([j.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/st/unrealized_dividend.json"),j.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/st/user_unrealized_dividend.json")]);case 2:t=e.sent,a=Object(p.a)(t,2),n=a[0].data,r=a[1].data,n.length>0&&(c=Object(S.e)(n[n.length-1][1],1),H(c)),i=Object.keys(r),o=i.map((function(e){var t=r[e],a=(t[0][0]-1588291200)/60/60/24,n=Array.from({length:a},(function(e,t){return[1588291200+24*t*60*60,0]}));return{name:e,type:"line",areaStyle:{},data:[].concat(Object(b.a)(n),Object(b.a)(t)).map((function(e){return[1e3*e[0],Object(S.e)(e[1],1)]})),stack:"userUnrealizedDividend",showSymbol:!1,hoverAnimation:!0,lineStyle:{width:0}}})),X(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),e()}),[Z]);var $,ee={baseOption:{title:{text:"\u5f85\u5206\u914d\u5229\u6da6",textStyle:{fontSize:20}},series:R,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{right:0,top:3},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",boundaryGap:!1,splitLine:{show:!1},axisLine:{lineStyle:{color:"#888"}}},yAxis:{type:"value",axisLabel:{show:!0,formatter:"{value}"},splitNumber:3,axisLine:{lineStyle:{color:"#888"}}}},media:[{query:{maxWidth:760},option:{title:{text:"\u5f85\u5206\u914d\u5229\u6da6",textStyle:{fontSize:12}},series:R,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{right:0,top:3},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",boundaryGap:!1,splitLine:{show:!1},axisLine:{lineStyle:{color:"#888"}}},yAxis:{type:"value",axisLabel:{show:!0,formatter:"{value}"},splitNumber:3,axisLine:{lineStyle:{color:"#888"}}}}}]},te={title:{text:"\u6301\u4ed3\u6536\u76ca"},tooltip:{trigger:"axis"},legend:{data:[{name:"\u7528\u6237\u672a\u5b9e\u73b0\u6536\u76ca"},{name:"\u7b56\u7565\u5206\u6210\u6536\u76ca"}],formatter:function(e){return"\u7528\u6237\u672a\u5b9e\u73b0\u6536\u76ca"===e?0===P.length?"".concat(e," +0.0"):"".concat(e," ").concat(Object(S.d)(P[P.length-1][1])):"\u7b56\u7565\u5206\u6210\u6536\u76ca"===e?0===J.length?"".concat(e," +0.0"):"".concat(e," ").concat(Object(S.d)(J[J.length-1][1])):void 0},right:0,top:3},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",splitLine:{show:!1},axisLine:{lineStyle:{color:"#888"}}},yAxis:{type:"value",axisLabel:{show:!0,formatter:"{value}"},splitNumber:3,axisLine:{lineStyle:{color:"#888"}}},series:[{name:"\u7528\u6237\u672a\u5b9e\u73b0\u6536\u76ca",type:"line",areaStyle:{},data:P,itemStyle:{color:"rgb(73,151,247)"},stack:"\u603b\u91cf",showSymbol:!1,hoverAnimation:!0},{name:"\u7b56\u7565\u5206\u6210\u6536\u76ca",type:"line",areaStyle:{},data:J,itemStyle:{color:"rgb(105,193,111)"},stack:"\u603b\u91cf",showSymbol:!1,hoverAnimation:!0}]},ae=[{title:"\u65e5\u671f",dataIndex:"date",key:"date"},{title:"\u5e02\u503c",dataIndex:"marketValue",key:"marketValue",render:function(e,t,a){return isNaN(e)?"--":Object(S.e)(e,1).toLocaleString()}},{title:"\u6536\u76ca\u989d",dataIndex:"incomeValue",key:"incomeValue",render:function(e){return x.a.createElement("span",{className:Object(S.c)(e)},Object(S.d)(e))}}],ne=[{title:"\u65e5\u671f",dataIndex:"datetime",key:"datetime",render:function(e){return E()(1e3*e).format("YYYY-MM-DD hh:mm:ss")}},{title:"\u91d1\u989d",dataIndex:"Value",key:"Value",render:function(e,t,a){var n=t.price,r=t.amount,c=Number(n)*Number(r);return x.a.createElement("span",{className:Object(S.c)(c)},isNaN(c)?"--":Object(S.d)(Object(S.e)(c,1)))}},{title:"\u51c0\u503c",dataIndex:"price",key:"price",render:function(e){return x.a.createElement("span",null,Object(S.e)(e,4))}},{title:"\u4efd\u989d",dataIndex:"amount",key:"amount",render:function(e){var t=Number(e);return x.a.createElement("span",{className:Object(S.c)(t)},isNaN(t)?"--":Object(S.d)(Object(S.e)(t,1)))}}];return x.a.createElement(f.a,{className:t},x.a.createElement(l.a,{className:"divider"}),x.a.createElement(k,null,"t1"===Z?x.a.createElement(i.a,{gutter:24,className:"content"},x.a.createElement(o.a,{sm:24,xs:24},x.a.createElement(c.a,{title:"T1 \u5229\u6da6\u5206\u914d"},x.a.createElement(i.a,{style:{marginBottom:"24px"}},x.a.createElement(o.a,{sm:5,xs:12},x.a.createElement(N.b,{title:"\u5f85\u5206\u914d\u5229\u6da6\uff08USD\uff09",value:F,precision:0}))),x.a.createElement(i.a,null,x.a.createElement(o.a,{xs:24,className:"card-left"},x.a.createElement(N.a,{option:ee,showLoading:z})))))):null,x.a.createElement(i.a,{gutter:24,className:"content"},x.a.createElement(o.a,{sm:24,xs:24},x.a.createElement(c.a,{title:"".concat(Z," T1 \u7b56\u7565\u6301\u4ed3")},x.a.createElement(i.a,{style:{marginBottom:"24px"}},x.a.createElement(o.a,{sm:5,xs:12},x.a.createElement(N.b,{title:"\u6301\u4ed3\u5e02\u503c\uff08USD\uff09",value:function(e){var t=e.length;return t>0?Object(S.e)(e[t-1][7],4):"--"}(s),precision:0})),x.a.createElement(o.a,{sm:5,xs:12},x.a.createElement(N.b,{title:"\u6301\u4ed3\u6536\u76ca\uff08USD\uff09",value:s.length>0?s[s.length-1][4]+s[s.length-1][10]:0,precision:1,isNormal:!1})),x.a.createElement(o.a,{sm:4,xs:12},x.a.createElement(N.b,{title:"\u6301\u4ed3\u6536\u76ca\u7387",value:s.length>0?100*s[s.length-1][8]:0,precision:2,suffix:"%",isNormal:!1})),x.a.createElement(o.a,{sm:5,xs:12},x.a.createElement(N.b,{title:"\u6301\u4ed3\u4efd\u989d",value:function(e){var t=e.length;return t>0?e[t-1][3]:0}(s),precision:0})),x.a.createElement(o.a,{sm:5,xs:12},x.a.createElement(N.b,{title:"\u6301\u4ed3\u6210\u672c(USD)",value:function(e){var t=e.length;return t>0?e[t-1][2]:0}(s),precision:4}))),x.a.createElement(i.a,null,x.a.createElement(o.a,{xs:24,className:"card-left"},x.a.createElement(N.a,{option:te,showLoading:z})))))),x.a.createElement(i.a,{gutter:24,className:"content"},x.a.createElement(o.a,{sm:12,xs:24},x.a.createElement(c.a,{title:"\u6536\u76ca\u660e\u7ec6"},x.a.createElement(r.a,{columns:ae,dataSource:($=Object(b.a)(s).reverse(),$.length>0?$.reduce((function(e,t,a,n){var r={date:E()(1e3*t[0]).format("YYYY-MM-DD hh:mm:ss"),value:0===a?"--":Object(S.e)(n[a-1][1],4),cost:t[2],share:Object(S.e)(t[3],0),key:t[0],incomeValue:Object(S.e)(t[9],2),marketValue:Object(S.e)(t[7],1)};return[].concat(Object(b.a)(e),[r])}),[]):[])}))),x.a.createElement(o.a,{sm:12,xs:24},x.a.createElement(c.a,{title:"\u4ea4\u6613\u660e\u7ec6"},x.a.createElement(r.a,{columns:ne,dataSource:A}))))))},D=Object(y.a)(L)(w())}}]);
//# sourceMappingURL=6.e21492cb.chunk.js.map