(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[6],{925:function(e,t,a){"use strict";a.r(t),a.d(t,"DetailsComponent",(function(){return L})),a.d(t,"Details",(function(){return z})),a.d(t,"default",(function(){return z}));var n=a(218),r=(a(783),a(781)),c=(a(355),a(95)),l=(a(216),a(73)),i=(a(217),a(38)),o=(a(758),a(762)),s=a(71),u=a.n(s),m=a(2),d=a(67),b=a(100),p=a(4),f=(a(354),a(166)),x=(a(75),a(0)),g=a.n(x),j=a(94),h=a.n(j),O=(a(114),a(21)),y=a(222),E=a(353),v=a.n(E),S=a(40),N=a(167);function w(){var e=Object(n.a)(["\n  .p-24 {\n    padding: 24px;\n  }\n  .m-t-24 {\n    margin-top: 24px;\n  }\n  .m-b-24 {\n    margin-bottom: 24px;\n  }\n  .divider {\n    border-color: #000;\n    opacity: 0.8;\n    margin: 0;\n  }\n  .content {\n    padding-top: 40px;\n    max-width: 1120px;\n    margin: 0 auto !important;\n  }\n\n  .green {\n    color: #3f8600;\n  }\n  .red {\n    color: #cf1322;\n  }\n  .grey {\n    color: rgba(19, 24, 31, 0.6);\n  }\n"]);return w=function(){return e},e}var k=f.a.Content,L=function(e){var t=e.className,a=Object(x.useState)([]),n=Object(p.a)(a,2),s=n[0],j=n[1],y=Object(x.useState)([]),E=Object(p.a)(y,2),w=(E[0],E[1]),L=Object(x.useState)([]),z=Object(p.a)(L,2),A=z[0],I=z[1],D=Object(x.useState)(!0),P=Object(p.a)(D,2),V=P[0],Y=P[1],F=Object(x.useState)([]),U=Object(p.a)(F,2),C=U[0],M=U[1],_=Object(x.useState)([]),B=Object(p.a)(_,2),G=B[0],J=B[1],T=Object(x.useState)("--"),q=Object(p.a)(T,2),W=q[0],H=q[1],K=Object(x.useState)([]),Q=Object(p.a)(K,2),R=Q[0],X=Q[1],Z=Object(x.useState)([]),$=Object(p.a)(Z,2),ee=$[0],te=$[1],ae=Object(O.h)().user;Object(x.useEffect)((function(){var e=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n,r,c,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/accounts/".concat(ae,"/main.json")),h.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/accounts/".concat(ae,"/dw.json"))]);case 2:t=e.sent,a=Object(p.a)(t,2),n=a[0].data,r=a[1].data,j(n),I(Object(d.a)(r).reverse().map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{key:t})}))),c=n.map((function(e,t){return[1e3*n[t][0],Object(S.e)(n[t][4],1)]})),l=n.map((function(e,t){return[1e3*n[t][0],Object(S.e)(n[t][10],1)]})),i=n.map((function(e,t){return[1e3*n[t][0],Object(S.e)(n[t][6],1)]})),M(c),J(l),Y(!1),w(i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"t1"===ae&&function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n,r,c,l,i,o,s,m,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/st/unrealized_dividend.json"),h.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/st/user_unrealized_dividend.json"),h.a.get("https://raw.githubusercontent.com/odofmine/fund/main/t1/st/user_table.json")]);case 2:t=e.sent,a=Object(p.a)(t,3),n=a[0].data,r=a[1].data,c=a[2].data,n.length>0&&(l=Object(S.e)(n[n.length-1][1],1),H(l)),i=Object.keys(r),o=Object.keys(c),s=o.map((function(e){var t=c[e];return{name:e,total:t[0],unrealizedPnl:t[1],unrealizedAllocation:t[2],real:t[3]}})),m=s.reduce((function(e,t){return{name:"all",total:e.total+t.total,unrealizedPnl:e.unrealizedPnl+t.unrealizedPnl,unrealizedAllocation:e.unrealizedAllocation+t.unrealizedAllocation,real:e.real+t.real}}),{name:"all",total:0,unrealizedPnl:0,unrealizedAllocation:0,real:0}),b=i.map((function(e){var t=r[e],a=(t[0][0]-1588291200)/60/60/24,n=Array.from({length:a},(function(e,t){return[1588291200+24*t*60*60,0]}));return{name:e,type:"line",areaStyle:{},data:[].concat(Object(d.a)(n),Object(d.a)(t)).map((function(e){return[1e3*e[0],Object(S.e)(e[1],1)]})),stack:"userUnrealizedDividend",showSymbol:!1,hoverAnimation:!0,lineStyle:{width:0}}})),X([].concat(Object(d.a)(s),[m])),te(b);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),e()}),[ae]);var ne,re={baseOption:{title:{text:"\u5f85\u5206\u914d\u5229\u6da6",textStyle:{fontSize:20}},series:ee,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{right:0,top:3},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",boundaryGap:!1,splitLine:{show:!1},axisLine:{lineStyle:{color:"#888"}}},yAxis:{type:"value",axisLabel:{show:!0,formatter:"{value}"},splitNumber:3,axisLine:{lineStyle:{color:"#888"}}}},media:[{query:{maxWidth:760},option:{title:{text:"\u5f85\u5206\u914d\u5229\u6da6",textStyle:{fontSize:12}},series:ee,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{right:0,top:3},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",boundaryGap:!1,splitLine:{show:!1},axisLine:{lineStyle:{color:"#888"}}},yAxis:{type:"value",axisLabel:{show:!0,formatter:"{value}"},splitNumber:3,axisLine:{lineStyle:{color:"#888"}}}}}]},ce={title:{text:"\u6301\u4ed3\u6536\u76ca"},tooltip:{trigger:"axis"},legend:{data:[{name:"\u7528\u6237\u672a\u5b9e\u73b0\u6536\u76ca"},{name:"\u7b56\u7565\u5206\u6210\u6536\u76ca"}],formatter:function(e){return"\u7528\u6237\u672a\u5b9e\u73b0\u6536\u76ca"===e?0===C.length?"".concat(e," +0.0"):"".concat(e," ").concat(Object(S.d)(C[C.length-1][1])):"\u7b56\u7565\u5206\u6210\u6536\u76ca"===e?0===G.length?"".concat(e," +0.0"):"".concat(e," ").concat(Object(S.d)(G[G.length-1][1])):void 0},right:0,top:3},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"time",splitLine:{show:!1},axisLine:{lineStyle:{color:"#888"}}},yAxis:{type:"value",axisLabel:{show:!0,formatter:"{value}"},splitNumber:3,axisLine:{lineStyle:{color:"#888"}}},series:[{name:"\u7528\u6237\u672a\u5b9e\u73b0\u6536\u76ca",type:"line",areaStyle:{},data:C,itemStyle:{color:"rgb(73,151,247)"},stack:"\u603b\u91cf",showSymbol:!1,hoverAnimation:!0},{name:"\u7b56\u7565\u5206\u6210\u6536\u76ca",type:"line",areaStyle:{},data:G,itemStyle:{color:"rgb(105,193,111)"},stack:"\u603b\u91cf",showSymbol:!1,hoverAnimation:!0}]},le=[{title:"\u65e5\u671f",dataIndex:"date",key:"date"},{title:"\u5e02\u503c",dataIndex:"marketValue",key:"marketValue",render:function(e,t,a){return isNaN(e)?"--":Object(S.e)(e,1).toLocaleString()}},{title:"\u6536\u76ca\u989d",dataIndex:"incomeValue",key:"incomeValue",render:function(e){return g.a.createElement("span",{className:Object(S.c)(e)},Object(S.d)(e))}}],ie=[{title:"\u65e5\u671f",dataIndex:"datetime",key:"datetime",render:function(e){return v()(1e3*e).format("YYYY-MM-DD hh:mm:ss")}},{title:"\u91d1\u989d",dataIndex:"Value",key:"Value",render:function(e,t,a){var n=t.price,r=t.amount,c=Number(n)*Number(r);return g.a.createElement("span",{className:Object(S.c)(c)},isNaN(c)?"--":Object(S.d)(Object(S.e)(c,1)))}},{title:"\u51c0\u503c",dataIndex:"price",key:"price",render:function(e){return g.a.createElement("span",null,Object(S.e)(e,4))}},{title:"\u4efd\u989d",dataIndex:"amount",key:"amount",render:function(e){var t=Number(e);return g.a.createElement("span",{className:Object(S.c)(t)},isNaN(t)?"--":Object(S.d)(Object(S.e)(t,1)))}}];return g.a.createElement(f.a,{className:t},g.a.createElement(o.a,{className:"divider"}),g.a.createElement(k,null,"t1"===ae?g.a.createElement(g.a.Fragment,null,g.a.createElement(l.a,{gutter:24,className:"content"},g.a.createElement(i.a,{sm:24,xs:24},g.a.createElement(c.a,{title:"T1 \u5229\u6da6\u5206\u914d"},g.a.createElement(l.a,{style:{marginBottom:"24px"}},g.a.createElement(i.a,{sm:5,xs:12},g.a.createElement(N.b,{title:"\u5f85\u5206\u914d\u5229\u6da6\uff08USD\uff09",value:W,precision:0}))),g.a.createElement(l.a,null,g.a.createElement(i.a,{xs:24,className:"card-left"},g.a.createElement(N.a,{option:re,showLoading:V})))))),g.a.createElement(l.a,{gutter:24,className:"content"},g.a.createElement(i.a,{sm:24,xs:24},g.a.createElement(c.a,{title:"\u6536\u76ca\u660e\u7ec6"},g.a.createElement(r.a,{columns:[{title:"\u7528\u6237",dataIndex:"name"},{title:"\u603b\u5e02\u503c",dataIndex:"total",render:function(e){return e.toFixed(2)}},{title:"\u672a\u5b9e\u73b0\u76c8\u4e8f",dataIndex:"unrealizedPnl",render:function(e){return e.toFixed(2)}},{title:"\u672a\u5206\u914d\u6536\u76ca",dataIndex:"unrealizedAllocation",render:function(e){return e.toFixed(2)}},{title:"\u5b9e\u9645\u5e02\u503c",dataIndex:"real",render:function(e){return e.toFixed(2)}}],dataSource:R}))))):null,g.a.createElement(l.a,{gutter:24,className:"content"},g.a.createElement(i.a,{sm:24,xs:24},g.a.createElement(c.a,{title:"".concat(ae," T1 \u7b56\u7565\u6301\u4ed3")},g.a.createElement(l.a,{style:{marginBottom:"24px"}},g.a.createElement(i.a,{sm:5,xs:12},g.a.createElement(N.b,{title:"\u6301\u4ed3\u5e02\u503c\uff08USD\uff09",value:function(e){var t=e.length;return t>0?Object(S.e)(e[t-1][7],4):"--"}(s),precision:0})),g.a.createElement(i.a,{sm:5,xs:12},g.a.createElement(N.b,{title:"\u6301\u4ed3\u6536\u76ca\uff08USD\uff09",value:s.length>0?s[s.length-1][4]+s[s.length-1][10]:0,precision:1,isNormal:!1})),g.a.createElement(i.a,{sm:4,xs:12},g.a.createElement(N.b,{title:"\u6301\u4ed3\u6536\u76ca\u7387",value:s.length>0?100*s[s.length-1][8]:0,precision:2,suffix:"%",isNormal:!1})),g.a.createElement(i.a,{sm:5,xs:12},g.a.createElement(N.b,{title:"\u6301\u4ed3\u4efd\u989d",value:function(e){var t=e.length;return t>0?e[t-1][3]:0}(s),precision:0})),g.a.createElement(i.a,{sm:5,xs:12},g.a.createElement(N.b,{title:"\u6301\u4ed3\u6210\u672c(USD)",value:function(e){var t=e.length;return t>0?e[t-1][2]:0}(s),precision:4}))),g.a.createElement(l.a,null,g.a.createElement(i.a,{xs:24,className:"card-left"},g.a.createElement(N.a,{option:ce,showLoading:V})))))),g.a.createElement(l.a,{gutter:24,className:"content"},g.a.createElement(i.a,{sm:12,xs:24},g.a.createElement(c.a,{title:"\u6536\u76ca\u660e\u7ec6"},g.a.createElement(r.a,{columns:le,dataSource:(ne=Object(d.a)(s).reverse(),ne.length>0?ne.reduce((function(e,t,a,n){var r={date:v()(1e3*t[0]).format("YYYY-MM-DD hh:mm:ss"),value:0===a?"--":Object(S.e)(n[a-1][1],4),cost:t[2],share:Object(S.e)(t[3],0),key:t[0],incomeValue:Object(S.e)(t[9],2),marketValue:Object(S.e)(t[7],1)};return[].concat(Object(d.a)(e),[r])}),[]):[])}))),g.a.createElement(i.a,{sm:12,xs:24},g.a.createElement(c.a,{title:"\u4ea4\u6613\u660e\u7ec6"},g.a.createElement(r.a,{columns:ie,dataSource:A}))))))},z=Object(y.a)(L)(w())}}]);
//# sourceMappingURL=6.5f0660ee.chunk.js.map