{"version":3,"sources":["pages/Home/banner.png","pages/Home/Home.js"],"names":["Content","Footer","Home","Text","styled","className","useState","t1Income","setT1Income","handleIncome","setHandleIncome","isLoading","setIsLoading","statistic","setStatistic","metrics","setMetrics","useEffect","a","Promise","all","axios","get","handleBtc","data","statisticData","metricsData","startPriceByHandle","map","x","fetchCharts","option","title","text","textStyle","color","fontSize","animation","tooltip","trigger","formatter","params","date","Date","dateFormat","echarts","format","formatTime","t1Data","find","seriesIndex","btcData","returnHtmT1","getNumberWithDecimal","returnHtmlBTC","legend","name","value","length","getNumberFormat","right","top","grid","left","bottom","containLabel","xAxis","type","splitLine","show","axisLine","lineStyle","yAxis","axisLabel","splitNumber","series","showSymbol","hoverAnimation","itemStyle","style","display","alignItems","marginRight","extra","href","padding","sm","xs","showLoading","height","width","strategy","annual_return","toFixed","precision","suffix","isNormal","timestamp","dayjs","pps","pnl_rate","last_day_pnl_rate","bannerIcon"],"mappings":"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","file":"static/js/7.2c233d60.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/banner.679295d8.png\";","import React, { useEffect, useState } from \"react\";\nimport bannerIcon from \"./banner.png\";\nimport {\n  Layout,\n  Row,\n  Divider,\n  Card,\n  Col,\n  Tag,\n  Typography,\n  Descriptions,\n} from \"antd\";\nimport axios from \"axios\";\nimport echarts from \"echarts\";\nimport styled from \"styled-components\";\nimport dayjs from \"dayjs\";\nimport { getNumberFormat, getNumberWithDecimal } from \"../../utils\";\nimport { Statistic, LineChart } from \"../../components\";\n\nconst { Content, Footer } = Layout;\nconst { Text } = Typography;\n\nconst HomeComponent = ({ className }) => {\n  const [t1Income, setT1Income] = useState([]);\n  const [handleIncome, setHandleIncome] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [statistic, setStatistic] = useState({});\n  const [metrics, setMetrics] = useState({});\n\n  useEffect(() => {\n    const fetchCharts = async () => {\n      const [\n        { data: handleBtc },\n        { data: all },\n        { data: statisticData },\n        { data: metricsData },\n      ] = await Promise.all([\n        axios.get(\n          `https://raw.githubusercontent.com/odofmine/fund/main/t1/raw/btc_price.json`\n        ),\n        axios.get(\n          `https://raw.githubusercontent.com/odofmine/fund/main/t1/all.json`\n        ),\n        axios.get(\n          `https://raw.githubusercontent.com/odofmine/fund/main/t1/statistic.json`\n        ),\n        axios.get(\n          `https://raw.githubusercontent.com/odofmine/fund/main/t1/metrics.json`\n        ),\n      ]);\n      setStatistic(statisticData);\n      setMetrics(metricsData);\n      const startPriceByHandle = handleBtc[0][1];\n      const t1Income = all.map((x) => [x[0] * 1000, x[2] * 100]);\n      const handleIncome = handleBtc.map((x) => [\n        x[0] * 1000,\n        (x[1] / startPriceByHandle - 1) * 100,\n      ]);\n      setT1Income(t1Income);\n      setHandleIncome(handleIncome);\n      setIsLoading(false);\n    };\n\n    fetchCharts();\n  }, []);\n\n  const option = {\n    title: {\n      text: \"业绩走势\",\n      textStyle: {\n        color: \"rgba(0, 0, 0, 0.45)\",\n        fontSize: \"14px\",\n      },\n    },\n    animation: true,\n    tooltip: {\n      trigger: \"axis\",\n      formatter: function (params) {\n        const date = new Date(params[0].data[0]);\n        const dateFormat = echarts.format.formatTime(\n          \"yyyy-MM-dd hh:mm:ss\",\n          date\n        );\n        const t1Data = params.find((x) => x.seriesIndex === 0);\n        const btcData = params.find((x) => x.seriesIndex === 1);\n        var returnHtmT1 = t1Data\n          ? `${getNumberWithDecimal(t1Data.data[1], 2)}%`\n          : \"--\";\n        var returnHtmlBTC = btcData\n          ? `${getNumberWithDecimal(btcData.data[1], 2)}%`\n          : \"--\";\n        return `<span>${dateFormat}</span><br/><span>本策略：${returnHtmT1}</span> <br/> <span>BTCUSD: ${returnHtmlBTC}</span>`;\n      },\n    },\n    legend: {\n      data: [\n        {\n          name: \"本策略\",\n          // 强制设置图形为圆。\n          // icon: \"circle\",\n        },\n      ],\n      formatter: (name) => {\n        const value = name === \"本策略\" ? t1Income : handleIncome;\n        return value.length === 0\n          ? `${name} +0.00%`\n          : `${name} ${getNumberFormat(\n              getNumberWithDecimal(value[value.length - 1][1], 2)\n            )}%`;\n      },\n      right: 0,\n      top: 3,\n    },\n    grid: {\n      left: \"3%\",\n      right: \"4%\",\n      bottom: \"3%\",\n      containLabel: true,\n    },\n\n    xAxis: {\n      type: \"time\",\n      splitLine: {\n        show: false,\n      },\n      axisLine: {\n        lineStyle: {\n          color: \"#888\",\n        },\n      },\n    },\n    yAxis: {\n      type: \"value\",\n      axisLabel: {\n        show: true,\n        formatter: \"{value}%\",\n      },\n      splitLine: {\n        show: true,\n      },\n      splitNumber: 3,\n      axisLine: {\n        lineStyle: {\n          color: \"#888\",\n        },\n      },\n    },\n    series: [\n      {\n        name: \"本策略\",\n        type: \"line\",\n        data: t1Income,\n        showSymbol: false,\n        hoverAnimation: true,\n        itemStyle: {\n          color: \"rgb(73,151,247)\",\n        },\n      },\n    ],\n  };\n  return (\n    <Layout className={className}>\n      <Divider className=\"divider\" />\n      <Content>\n        <Row className=\"banner\">\n          <div className=\"title-wrapper\">\n            <p className=\"title\">趋势中的数字黄金</p>\n            <p className=\"sub-title\">加密货币CTA策略</p>\n          </div>\n        </Row>\n        <Row className=\"content\">\n          <Card\n            className=\"card\"\n            title={\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                <span style={{ marginRight: \"20px\" }}>BTC 趋势一号</span>\n                <Tag color=\"default\">运行中</Tag>\n              </div>\n            }\n            extra={\n              <a href=\"#/t1\" className=\"details-link\">\n                策略详情 >\n              </a>\n            }\n          >\n            <Row style={{ padding: \"0 0 20px 0\" }}>\n              <Col sm={15} xs={24} className=\"card-left\">\n                <LineChart\n                  option={option}\n                  showLoading={isLoading}\n                  height={240}\n                />\n              </Col>\n              <Col sm={9} xs={24} className=\"card-right\">\n                <Row style={{ width: \"100%\" }}>\n                  <Col xs={12}>\n                    <Statistic\n                      title=\"历史年化收益率\"\n                      value={\n                        (metrics.strategy &&\n                          (metrics.strategy.annual_return * 100).toFixed(2)) ||\n                        0\n                      }\n                      precision={2}\n                      suffix=\"%\"\n                      isNormal={false}\n                    />\n                  </Col>\n                  <Col xs={12}>\n                    <Statistic\n                      title={`最新净值（${\n                        statistic.timestamp\n                          ? dayjs(statistic.timestamp * 1000).format(\"MM-DD\")\n                          : \"--\"\n                      }）`}\n                      value={statistic.pps || 0}\n                      precision={4}\n                      suffix=\"USD\"\n                    />\n                  </Col>\n                </Row>\n                <Row style={{ width: \"100%\" }}>\n                  <Col xs={12}>\n                    <Statistic\n                      title=\"成立以来收益率\"\n                      value={statistic.pnl_rate * 100 || 0}\n                      precision={2}\n                      suffix=\"%\"\n                      isNormal={false}\n                    />\n                  </Col>\n                  <Col xs={12}>\n                    <Statistic\n                      title=\"昨日涨跌\"\n                      value={statistic.last_day_pnl_rate * 100 || 0}\n                      precision={2}\n                      suffix=\"%\"\n                      isNormal={false}\n                    />\n                  </Col>\n                </Row>\n                <Row style={{ width: \"100%\" }}>\n                  <Col xs={12}>\n                    <Statistic title=\"价值本位\" value=\"USD\" />\n                  </Col>\n                  <Col xs={12}>\n                    <Statistic title=\"策略类型\" value=\"CTA\" precision={0} />\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n          </Card>\n        </Row>\n        <p className=\"more\">更多产品 敬请期待</p>\n      </Content>\n      <Footer className=\"footer\"></Footer>\n    </Layout>\n  );\n};\n\nexport const Home = styled(HomeComponent)`\n  .divider {\n    border-color: #000;\n    opacity: 0.8;\n    margin: 0;\n  }\n\n  .banner {\n    height: 380px;\n    background: rgb(14, 16, 20);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-image: url(${bannerIcon});\n    background-position: 50%;\n    background-size: contain;\n    background-repeat: no-repeat;\n  }\n\n  .title-wrapper {\n    color: #fff;\n    margin-top: -60px;\n    .title {\n      font-size: 36px;\n      font-family: PingFang SC;\n      font-weight: 200;\n      color: rgba(255, 255, 255, 1);\n      margin-bottom: 17px;\n      text-align: center;\n    }\n    .sub-title {\n      font-size: 16px;\n      font-family: PingFang SC;\n      font-weight: 200;\n      color: rgba(255, 255, 255, 1);\n      text-align: center;\n    }\n  }\n\n  .card {\n    max-width: 1120px;\n    width: 100%;\n    border-radius: 6px;\n    margin: -64px auto 0 auto;\n    box-shadow: 0px 6px 13px 0px rgba(0, 0, 0, 0.03);\n    border-radius: 6px;\n    .card-left {\n      padding: 0 20px 0 0;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n    }\n    .card-right {\n      padding: 0 0 0 30px;\n      border-left: 1px solid rgba(0, 0, 0, 0.1);\n      display: flex;\n      align-items: center;\n      flex-direction: column;\n      justify-content: space-around;\n    }\n    .details-link {\n      color: rgba(0, 0, 0, 0.45);\n    }\n  }\n\n  .more {\n    font-size: 14px;\n    font-family: PingFang SC;\n    font-weight: 400;\n    color: rgba(19, 24, 31, 1);\n    opacity: 0.6;\n    margin: 80px auto;\n    text-align: center;\n  }\n\n  .footer {\n    background: rgb(14, 16, 20);\n    text-align: center;\n    .footer-title {\n      font-size: 18px;\n      font-family: PingFang SC;\n      font-weight: 400;\n      color: rgba(255, 255, 255, 1);\n      margin: 16px auto 0 auto;\n    }\n    .footer-subtitle {\n      color: rgba(255, 255, 255, 1);\n      opacity: 0.6;\n    }\n    .bottom-card {\n      margin-top: 16px;\n      border-radius: 8px;\n    }\n    .descriptions {\n      padding: 0 20px;\n      .ant-descriptions-item-label {\n        width: auto;\n      }\n      .ant-descriptions-item-content {\n        text-align: end;\n        font-weight: bold;\n        width: auto;\n        display: inline-block;\n      }\n    }\n  }\n\n  @media (max-width: 375px) {\n    .banner {\n      background-size: cover;\n    }\n  }\n`;\n"],"sourceRoot":""}